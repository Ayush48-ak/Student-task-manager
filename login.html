<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Login - Task Manager</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">

    <nav class="navbar">
        <div class="logo">TaskManager</div>
        <a href="index.html" class="btn-outline">Home</a>
    </nav>

    <section class="hero">
        <div class="hero-content">
            <h1>Login</h1>

            <form id="loginForm">
                <p>Email</p>
                <input type="email" id="loginEmail" required>

                <p>Password</p>
                <input type="password" id="loginPassword" required>

                <br><br>
                <button class="btn-primary" type="submit">Login</button>
                <p>New user? <a href="signup.html">Create account</a></p>
            </form>
        </div>

        <div class="hero-images">
            <img src="https://cdn-icons-png.flaticon.com/512/3209/3209265.png" class="hero-illustration">
        </div>
    </section>

</div>

<script>
document.getElementById("loginForm").addEventListener("submit", function(e) {
    e.preventDefault();

    let email = document.getElementById("loginEmail").value;
    let password = document.getElementById("loginPassword").value;

    let storedUser = JSON.parse(localStorage.getItem("user"));

    if (!storedUser) {
        alert("No user found. Please sign up first.");
        return;
    }

    if (email === storedUser.email && password === storedUser.password) {
        localStorage.setItem("isLoggedIn", "true");
        window.location.href = "dashboard.html";
    } else {
        alert("Invalid email or password!");
    }
});
</script>

</body>
</html>
