<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dashboard - Task Manager</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">

    <nav class="navbar">
        <div class="logo">TaskManager</div>

        <ul class="nav-links">
            <li><a href="#">My Tasks</a></li>
            <li><a href="#">Add Task</a></li>
            <li><a href="#">Profile</a></li>
        </ul>

        <div class="nav-btns">
            <a href="#" class="btn-outline" onclick="logout()">Logout</a>
        </div>
    </nav>

    <section class="hero">
        <div class="hero-content">
            <h1 id="welcomeText">Welcome, Student ğŸ‘‹</h1>
            <p>Here you can manage all your academic tasks.</p>

<h3>Add New Task:</h3>
<input type="text" id="taskInput" placeholder="Enter your task">
<br><br>
<button class="btn-primary" onclick="addTask()">Add Task</button>

<h3>Your Tasks:</h3>
<ul id="taskList"></ul>

        </div>

        <div class="hero-images">
            <img src="https://cdn-icons-png.flaticon.com/512/2991/2991148.png" class="hero-illustration">
        </div>
    </section>

</div>

<script>
// ===== Dashboard Protection =====
if (localStorage.getItem("isLoggedIn") !== "true") {
    window.location.href = "login.html";
}

// ===== Show User Name =====
let user = JSON.parse(localStorage.getItem("user"));
if (user) {
    document.getElementById("welcomeText").innerText = "Welcome, " + user.name + " ğŸ‘‹";
}

// ===== Logout Function =====
function logout() {
    localStorage.removeItem("isLoggedIn");
    window.location.href = "login.html";
}

// ===== Load Tasks On Page Load =====
let tasks = JSON.parse(localStorage.getItem("tasks")) || [];
displayTasks();

// ===== Add New Task =====
function addTask() {
    let taskInput = document.getElementById("taskInput").value;

    if (taskInput === "") {
        alert("Please enter a task!");
        return;
    }

    tasks.push(taskInput);
    localStorage.setItem("tasks", JSON.stringify(tasks));

    document.getElementById("taskInput").value = "";
    displayTasks();
}

// ===== Display Tasks =====
function displayTasks() {
    let taskList = document.getElementById("taskList");
    taskList.innerHTML = "";

    tasks.forEach((task, index) => {
        let li = document.createElement("li");
        li.innerHTML = task + 
        ` <button onclick="deleteTask(${index})">âŒ</button>`;
        taskList.appendChild(li);
    });
}

// ===== Delete Task =====
function deleteTask(index) {
    tasks.splice(index, 1);
    localStorage.setItem("tasks", JSON.stringify(tasks));
    displayTasks();
}
</script>
